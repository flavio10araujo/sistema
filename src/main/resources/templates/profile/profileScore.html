<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="fragments/layoutMain">

<head>
	<style type="text/css">
        .mainbody{background:#f0f0f0}
	</style>
</head>

<body>

	<div layout:fragment="content">

        <div class="col-lg-3 col-md-3">
            
            <div class="list-group">
                <a class="list-group-item" th:href="@{/teacher/class}"><i class="fa fa-cogs fa-fw" aria-hidden="true"></i>  Gerenciar Salas <span class="pull-right"></span></a>
                <a class="list-group-item active" href="#"><i class="fa fa-users fa-fw" aria-hidden="true"></i>  Gerenciar Alunos</a>
                <a class="list-group-item" th:href="@{/teacher/report}"><i class="fa fa-file-text-o fa-fw" aria-hidden="true"></i>  Relatórios</a>
                <a class="list-group-item" th:href="@{/teacher/player/create}"><i class="fa fa-user-plus fa-fw" aria-hidden="true"></i>  Cadastrar Alunos</a>
            </div>
            
            <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                
                <div class="panel panel-default">
                    <div class="panel-heading" role="tab" id="headingThree">
                        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree" style="text-decoration:none;">
                            <h4 class="panel-title">
                                <i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>  Ajuda?
                            </h4>
                        </a>
                    </div>
                    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                        <div class="panel-body">
                            <small>
                            A tela Pontuações obtidas mostra todas as pontuações, notas e número de tentativas de todos os testes feitos pelo aluno em todos os seus instrumentos.
                            A pontuação é calculada seguindo a seguinte lógica:<br />
                            Se o aluno passou no teste na 1ª tentativa, receberá a pontuação conforme a tabela:<br />
		 					Acertou 100% = recebe 100 pontos<br />
		 					Acertou 90% = recebe recebe 90 pontos<br />
		 					Acertou 80% = recebe recebe 80 pontos<br />
		 					Acertou 70% = recebe recebe 70 pontos<br />
		 					Se o aluno passou no teste na 2ª tentativa, receberá a pontuação conforme a tabela:<br />
		 					Acertou 100% = recebe 70 pontos<br />
		 					Acertou 90% = recebe 65 pontos<br />
		 					Acertou 80% = recebe 60 pontos<br />
		 					Acertou 70% = recebe 50 pontos<br />
		 					Se o aluno passou no teste na 3ª tentativa, receberá a pontuação conforme a tabela:<br />
		 					Acertou 100% = recebe 50 pontos<br />
		 					Acertou 90% = recebe 45 pontos<br />
		 					Acertou 80% = recebe 40 pontos<br />
		 					Acertou 70% = recebe 30 pontos<br />
		 					Se o aluno passou no teste na 4ª tentativa ou mais tentativas, receberá a pontuação conforme a tabela:<br />
		 					Recebe sempre 10 pontos<br />
                            Para mais informações, verifique o <a href="#">Manual do Professor</a>.
                            </small>
                        </div>
                    </div>
                </div>
                
                <div class="panel panel-default">
                    <div class="panel-heading" role="tab" id="headingSix">
                        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSix" aria-expanded="false" aria-controls="collapseThree" style="text-decoration:none;">
                            <h4 class="panel-title">
                                <i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>  Encontrou um erro?
                            </h4>
                        </a>
                    </div>
                    <div id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix" style="text-decoration:none;">
                        <div class="panel-body">
                            <small>Caso tenha encontrado algum erro no sistema, por favor, avise-nos através do e-mail polifono@polifono.com.</small>
                        </div>
                    </div>
                </div>
                
                
                <div class="panel panel-footer">
                    <small><a href="#">Manual do Professor</a></small><br />
                    <small><a href="#">Vídeo tutorial</a></small><br />
                </div>
            </div>
        </div>
        
        <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
            
            <div class="panel panel-default">
                
                <div class="panel-body">
                    
                    <div class="pull-left">
                        <a href="#" class="btn btn-link" style="text-decoration:none;"><i class="glyphicon glyphicon-list-alt" aria-hidden="true"></i></a>
                    </div>
                    
                    <h4><a href="#" style="text-decoration:none;"><strong>Pontuações obtidas</strong></a> – <small><small><a href="#" style="text-decoration:none; color:grey;"><i><i class="fa fa-info-circle" aria-hidden="true"></i> notas e pontuações obtidas em cada fase por este aluno</i></a></small></small></h4>
                    
                    <hr />
                    
                    <div class="media">
                        
                        <div class="col-lg-3 col-md-3">
                            <img class="thumbnail img-responsive" th:src="@{'https://www.gravatar.com/avatar/'+${player.emailMD5}+'.jpg?s=200'}" width="150px" height="150px" />
                        </div>
                        
                        <div class="col-lg-9 col-md-9">
                            <h5><strong>Nome</strong></h5>
                            
                           	<p><span th:text="${player.fullName}"></span></p>
                            
                            <hr />
                            <h5 th:if="${player.email != null}"><strong>E-mail</strong></h5>
                            <p th:if="${player.email != null}"><span th:text="${player.email}"></span></p>
                            <h5 th:if="${player.login != null}"><strong>Login</strong></h5>
                            <p th:if="${player.login != null}"><span th:text="${player.login}"></span></p>
                            
                            <hr />
                            <h5><strong>Desde</strong></h5>
                            
                            <p><span th:text="${#calendars.format(player.dtInc,'dd/MM/yyyy')}"></span></p>
                        </div>
                        
                        <div class="media-body">
                        	<a th:href="@{/teacher/student}" class="btn btn-primary"><i class="fa fa-backward" aria-hidden="true"></i> Voltar</a>
                        </div>
                    </div>
                    
				</div>
			
			</div>
			
			<div class="panel panel-default" th:each="playerPhaseGame : ${playerPhasesGames}">
                
                <div class="panel-body">
                
                	<div class="pull-left">
                        <a href="#" class="btn btn-link" style="text-decoration:none;"><i class="fa fa-music fa-1x" aria-hidden="true"></i></a>
                    </div>
                    
                    <h4><a role="button" data-toggle="collapse" data-parent="#accordion" th:href="@{'#collapseGrades'+${playerPhaseGame.id}}" aria-expanded="false" th:aria-controls="${'collapseGrades'+playerPhaseGame.id}" style="text-decoration:none;margin-right:8px; margin-top:-5px;"><strong th:text="${playerPhaseGame.name}"></strong></a></h4>
                    
                    <div th:each="level : ${levels}" style="margin-top:15px;">
	                    
	                    <h5><a role="button" style="text-decoration:none;margin-left:20px"><strong th:text="${level.name}"></strong></a></h5>
	                    
	                    <div th:id="${'collapseGrades'+playerPhaseGame.id}" role="tabpanel" class="media">
	                        <div class="table-responsive">
	                            <table class="table table-striped table-condensed">
	             					<thead>
										<tr>
	        								<th>Fase</th>
	        								<th data-toggle="tooltip" title="Número de vezes que o aluno fez o teste até obter o mínimo de 70% de acertos">Tentativas</th>
	        								<th>Nota</th>
	        								<th data-toggle="tooltip" title="Pontuação baseada no número de acertos e número de tentativas">Pontos</th>
	      								</tr>
    								</thead>
	             					<tbody>
	             						<div th:each="playerPhase : ${playerPhases}" th:if="${playerPhase.phase.map.game.id} == ${playerPhaseGame.id} AND ${playerPhase.phase.map.level.id} == ${level.id}">
	               							<tr>
	   											<td th:text="${playerPhase.phase.order}"></td>
	   											<td th:text="${playerPhase.numAttempts}"></td>
	   											<td th:text="${playerPhase.grade}"></td>
	   											<td th:text="${playerPhase.score}"></td>
	   										</tr>
	   									</div>
	             					</tbody>
	           					</table>
	                        </div>
	                    </div>
                    </div>
                    
				</div>
			
			</div>

        </div>
        
    </div>
    
</body>
</html>